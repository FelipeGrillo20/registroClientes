<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Clientes Registrados</title>
  <link rel="stylesheet" href="css/clientes.css" />
</head>
<body>
  <header class="page-header">
    <div id="userInfo" class="user-info-bar"></div>
    <h1>ğŸ“‹ Trabajadores Registrados</h1>
  </header>

  <main class="page-main">
    <!-- Botones de acciÃ³n -->
    <div class="filter-actions">
      <button id="btnClearFilters" class="btn-clear-filters">ğŸ”„ Limpiar Filtros</button>
      
      <!-- âœ… NUEVO: Filtro de profesional (solo visible para admin) -->
      <div id="profesionalFilterContainer" class="profesional-filter-container" style="display: none;">
        <label for="filterProfesionalSelect" class="filter-label">ğŸ‘¤ Profesional:</label>
        <select id="filterProfesionalSelect" class="filter-profesional-select">
          <option value="">Todos los Profesionales</option>
        </select>
      </div>
      
      <a href="index.html" class="btn-back-form">â† Formulario Registro</a>
    </div>

    <div class="table-container">
      <table class="client-table" id="clientTable" aria-describedby="tabla-clientes">
        <thead>
          <tr>
            <!-- ====== CÃ‰DULA CON FILTRO ====== -->
            <th class="filterable" data-type="cedula">
              <span>CÃ©dula</span>
              <span class="filter-icon" aria-label="Filtrar por cÃ©dula" title="Filtrar por cÃ©dula">âš™ï¸</span>
              <div class="filter-menu" id="filterMenu-cedula">
                <label for="filterCedula">Buscar por cÃ©dula:</label>
                <input type="text" id="filterCedula" placeholder="Ingresa cÃ©dula..." />
              </div>
            </th>

            <th>Nombre</th>

            <!-- ====== SEDE CON FILTRO ====== -->
            <th class="filterable" data-type="sede">
              <span>Sede</span>
              <span class="filter-icon" aria-label="Filtrar por sede" title="Filtrar por sede">âš™ï¸</span>
              <div class="filter-menu" id="filterMenu-sede">
                <label for="filterSede">Filtrar por sede:</label>
                <select id="filterSede">
                  <option value="">Todas las Sedes</option>
                </select>
              </div>
            </th>

            <th>Email</th>
            <th>TelÃ©fono</th>

            <!-- ====== VÃNCULO CON FILTRO ====== -->
            <th class="filterable" data-type="vinculo">
              <span>VÃ­nculo</span>
              <span class="filter-icon" aria-label="Filtrar por vÃ­nculo" title="Filtrar por vÃ­nculo">âš™ï¸</span>
              <div class="filter-menu" id="filterMenu-vinculo">
                <label for="filterVinculo">Filtrar por vÃ­nculo:</label>
                <select id="filterVinculo">
                  <option value="">Todos los VÃ­nculos</option>
                  <option value="Trabajador">Trabajador</option>
                  <option value="Familiar Trabajador">Familiar Trabajador</option>
                </select>
              </div>
            </th>

            <!-- ====== EMPRESA USUARIO CON FILTRO ====== -->
            <th class="filterable" data-type="empresa">
              <span>Empresa</span>
              <span class="filter-icon" aria-label="Filtrar por empresa" title="Filtrar por empresa">âš™ï¸</span>
              <div class="filter-menu" id="filterMenu-empresa">
                <label for="filterEmpresa">Filtrar por empresa:</label>
                <select id="filterEmpresa">
                  <option value="">Todas las Empresas</option>
                </select>
              </div>
            </th>

            <th>Acciones</th>
          </tr>
        </thead>

        <tbody id="clientList">
          <!-- Filas generadas dinÃ¡micamente -->
        </tbody>
      </table>
    </div>

    <!-- Mensaje inicial cuando no hay clientes -->
    <p id="noFilterMessage" class="no-filter-message">
      ğŸ” Usa los filtros para ver los clientes registrados.
    </p>
  </main>

  <script src="js/config.js"></script>
  <script src="js/auth-check.js"></script>
  <script src="js/clientes.js"></script>
</body>
</html>
